---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/elements/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
		<style>
			.title {
				font-size: 2em;
				margin: 0.25em 0 0;
			}
			hr {
				border-top: 1px solid #ddd;
				margin: 1rem 0;
			}
			.last-updated-on {
				font-style: italic;
			}

			img {
				max-width: 100%;
			}
		</style>
	</head>

	<body>
		<Navbar />
		<main>
			<div class="container py-5">
				<div class="row g-5 py-3">
					<div class="col-md-8">
						<article class="blog-post">
							{
								heroImage && (
									<img
										src={heroImage}
										alt=""
										style="width: 100%; border-radius: 5px; border: 1px solid #9a9a9a;"
									/>
								)
							}

							<h2 class="title">{title}</h2>
							<ul>
								<li>By: Kion</li>
								<li>
									Published: <FormattedDate date={pubDate} />
								</li>

								{
									updatedDate && (
										<li>
											Last updated:{" "}
											<FormattedDate date={updatedDate} />
										</li>
									)
								}
							</ul>
							<hr />
							<slot />
						</article>

						<nav class="blog-pagination" aria-label="Pagination">
							<a
								class="btn btn-outline-primary rounded-pill"
								href="#">Older</a
							>
							<a
								class="btn btn-outline-secondary rounded-pill disabled"
								>Newer</a
							>
						</nav>
					</div>

					<div class="col-md-4">
						<div>
							<div>
								<h4 class="fst-italic">Recent posts</h4>
								<ul class="list-unstyled">
									<li>
										<a
											class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
											href="#"
										>
											<svg
												class="bd-placeholder-img"
												width="100%"
												height="96"
												xmlns="http://www.w3.org/2000/svg"
												aria-hidden="true"
												preserveAspectRatio="xMidYMid slice"
												focusable="false"
												><rect
													width="100%"
													height="100%"
													fill="#777"></rect></svg
											>
											<div class="col-lg-8">
												<h6 class="mb-0">
													Example blog post title
												</h6>
												<small
													class="text-body-secondary"
													>January 15, 2023</small
												>
											</div>
										</a>
									</li>
									<li>
										<a
											class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
											href="#"
										>
											<svg
												class="bd-placeholder-img"
												width="100%"
												height="96"
												xmlns="http://www.w3.org/2000/svg"
												aria-hidden="true"
												preserveAspectRatio="xMidYMid slice"
												focusable="false"
												><rect
													width="100%"
													height="100%"
													fill="#777"></rect></svg
											>
											<div class="col-lg-8">
												<h6 class="mb-0">
													This is another blog post
													title
												</h6>
												<small
													class="text-body-secondary"
													>January 14, 2023</small
												>
											</div>
										</a>
									</li>
									<li>
										<a
											class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
											href="#"
										>
											<svg
												class="bd-placeholder-img"
												width="100%"
												height="96"
												xmlns="http://www.w3.org/2000/svg"
												aria-hidden="true"
												preserveAspectRatio="xMidYMid slice"
												focusable="false"
												><rect
													width="100%"
													height="100%"
													fill="#777"></rect></svg
											>
											<div class="col-lg-8">
												<h6 class="mb-0">
													Longer blog post title: This
													one has multiple lines!
												</h6>
												<small
													class="text-body-secondary"
													>January 13, 2023</small
												>
											</div>
										</a>
									</li>
								</ul>
							</div>

							<div class="p-4">
								<h4 class="fst-italic">Archives</h4>
								<ol class="list-unstyled mb-0">
									<li><a href="#">March 2021</a></li>
									<li><a href="#">February 2021</a></li>
									<li><a href="#">January 2021</a></li>
									<li><a href="#">December 2020</a></li>
									<li><a href="#">November 2020</a></li>
									<li><a href="#">October 2020</a></li>
									<li><a href="#">September 2020</a></li>
									<li><a href="#">August 2020</a></li>
									<li><a href="#">July 2020</a></li>
									<li><a href="#">June 2020</a></li>
									<li><a href="#">May 2020</a></li>
									<li><a href="#">April 2020</a></li>
								</ol>
							</div>

							<div class="p-4">
								<h4 class="fst-italic">Elsewhere</h4>
								<ol class="list-unstyled">
									<li><a href="#">GitHub</a></li>
									<li><a href="#">Twitter</a></li>
									<li><a href="#">Facebook</a></li>
								</ol>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>
		<Footer />
	</body>
</html>
